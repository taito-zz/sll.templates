Log in as Manager::

    >>> browser.login(TEST_USER_NAME, TEST_USER_PASSWORD)

Go to doc1::

    >>> browser.open('/folder1/doc1')

    >>> '@@feed-to-top' in browser.contents
    True
    >>> '@@unfeed-from-top' in browser.contents
    False
    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False

Feed to Top::

    >>> browser.getLink('Feed to Top').url
    'http://nohost/plone/folder1/doc1/@@feed-to-top'

    >>> browser.getLink('Feed to Top').click()

    >>> '@@feed-to-top' in browser.contents
    False
    >>> '@@unfeed-from-top' in browser.contents
    True
    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False

Go to /@@sll-view::

    >>> browser.open('/@@sll-view')

    >>> print browser.bycss('#folder-feed')
    --- 1 ---
    <table id="folder-feed"><tbody><tr><td class="feed-image">
    <div class="crop-frame">
    <a href="http://nohost/plone/folder1/doc1" title="D&#246;cument1">
    <div class="crop" style="width:170px;height:150px;"><img src="http://nohost/plone/++theme++sll.theme/images/feed-fallback.png" alt="D&#246;cument1" title="D&#246;cument1"></div>
    </a>
    </div>
    </td>
    <td class="feed-text">
    <h1>
    <a href="http://nohost/plone/folder1/doc1" title="D&#246;cument1">D&#246;cument1</a>
    </h1>
    <h2>
    <a href="http://nohost/plone/folder1" title="F&#246;lder1">F&#246;lder1</a>&#160;&#160;
    <span class="sll-date">...</span>
    </h2>
    <p>Description of D&#246;cument1</p>
    <p>
    <a href="http://nohost/plone/folder1/doc1">Read more</a>
    </p>
    </td>
    </tr></tbody></table>

Go to /folder1/@@sll-view::

    >>> browser.open('/folder1/@@sll-view')

    >>> print browser.bycss('#folder-feed')

Unfeed from Top::

    >>> browser.open('/folder1/doc1')

    >>> browser.getLink('Unfeed from Top').url
    'http://nohost/plone/folder1/doc1/@@unfeed-from-top'

    >>> browser.getLink('Unfeed from Top').click()

    >>> '@@feed-to-top' in browser.contents
    True
    >>> '@@unfeed-from-top' in browser.contents
    False
    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False

Go to /@@sll-view::

    >>> browser.open('/@@sll-view')

    >>> print browser.bycss('#folder-feed')

Go to doc1::

    >>> browser.open('/folder1/doc1')

Feed to Micro Site::

    >>> browser.getLink('Feed to micro site').url
    'http://nohost/plone/folder1/doc1/@@feed-to-microsite'

    >>> browser.getLink('Feed to micro site').click()
    >>> '@@feed-to-microsite' in browser.contents
    False
    >>> '@@unfeed-from-microsite' in browser.contents
    True

Go to /@@sll-view::

    >>> browser.open('/@@sll-view')

    >>> print browser.bycss('#folder-feed')

Go to /folder1/@@sll-view::

    >>> browser.open('/folder1/@@sll-view')

    >>> print browser.bycss('#folder-feed')
    --- 1 ---
    <table id="folder-feed"><tbody><tr><td class="feed-image">
    <div class="crop-frame">
    <a href="http://nohost/plone/folder1/doc1" title="D&#246;cument1">
    <div class="crop" style="width:170px;height:150px;"><img src="http://nohost/plone/++theme++sll.theme/images/feed-fallback.png" alt="D&#246;cument1" title="D&#246;cument1"></div>
    </a>
    </div>
    </td>
    <td class="feed-text">
    <h1>
    <a href="http://nohost/plone/folder1/doc1" title="D&#246;cument1">D&#246;cument1</a>
    </h1>
    <h2>
    <a href="http://nohost/plone/folder1" title="F&#246;lder1">F&#246;lder1</a>&#160;&#160;
    <span class="sll-date">...</span>
    </h2>
    <p>Description of D&#246;cument1</p>
    <p>
    <a href="http://nohost/plone/folder1/doc1">Read more</a>
    </p>
    </td>
    </tr></tbody></table>

Go to /folder2/@@sll-view::

    >>> browser.open('/folder2/@@sll-view')

    >>> print browser.bycss('#folder-feed')

Go to doc1 and unfeed from micro site::

    >>> browser.open('/folder1/doc1')

    >>> browser.getLink('Unfeed from micro site').url
    'http://nohost/plone/folder1/doc1/@@unfeed-from-microsite'

    >>> browser.getLink('Unfeed from micro site').click()

    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False

Log out and log in as contributor::

    >>> browser.getLink('Log out').click()
    >>> browser.login(user2, user2)

Go to doc1::

    >>> browser.open('/folder1/doc1')

    >>> '@@feed-to-top' in browser.contents
    False
    >>> '@@unfeed-from-top' in browser.contents
    False
    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False

Feed to micro site::

    >>> browser.getLink('Feed to micro site').click()

    >>> '@@feed-to-microsite' in browser.contents
    False
    >>> '@@unfeed-from-microsite' in browser.contents
    True

Unfeed from micro site::

    >>> browser.getLink('Unfeed from micro site').click()

    >>> '@@feed-to-microsite' in browser.contents
    True
    >>> '@@unfeed-from-microsite' in browser.contents
    False
